package com.github.dannyrm.khip8.display.model

import io.mockk.mockk
import org.junit.jupiter.api.Test
import strikt.api.expectThat
import strikt.assertions.isEqualTo

class DisplayIntegrationTest {

    @Test
    fun `toString implementation`() {
        val displayMemory = DisplayMemory()
        displayMemory[5,5] = 0xFFu
        displayMemory[25,31] = 0xFFu

        val display = Display(displayMemory, mockk(relaxed = true))

        var newLine = System.lineSeparator()

        expectThat(display.toString()).isEqualTo(
            "Display Memory {$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000011111111000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000000000000000000000000000000000000000000$newLine" +
                    "\t0000000000000000000000000111111110000000000000000000000000000000$newLine" +
                    "}"
        )
    }
}